<!DOCTYPE html>
<html lang="fr">

  <!-- HEAD -->  

  <head>
    <meta charset="utf-8" />
    <title>Orinounours by Orinoco - Ours en pelouche</title>
    <meta
      name="description"
      content="Vente en ligne d'ours en peluche faits à la main de qualité - Fabrication Française."
    />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />
    <link rel="stylesheet" href="style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Finger+Paint&display=swap" rel="stylesheet">
  </head>

  <!-- BODY -->  

  <body>
    <header>
        <div class="logo">Orinounours <span>by Orinoco</span></div>
        <div class="panier"><a href="/panier.html">Panier</a> </div> <!--renvoi vers page panier-->
    </header>
    <main id="mainIndex">
      <article id="intro">
        <h1>Orinounours</h1>
        <h2>Ours en peluche faits à la main </h2>
        <h3>Fabrication Française <img src="/images/drapeau-FR.jpg "  alt="drapeau français"> </h3>
      </article>
      <section id="sectionIndex">
      </section>  
    </main>
    <footer>
      <p>Orinounours by Orinoco - All Rights Reserved</p>
    </footer>
  </body>
  
  <!-- SCRIPT -->  

  <script>

    let section = document.getElementById('sectionIndex')
  
    function teddies(nounourses) {
      for (let teddy of nounourses){
  
       // Création éléments pour index html
  
        let produit = document.createElement('div')
        let produitImg = document.createElement('div')
        let produitDetail = document.createElement('div')
        let produitPic = document.createElement('img')
        let nomProduit = document.createElement('p')
        let prixProduit = document.createElement('p')
        let boutonInfo = document.createElement('button')
        let lienProduit = document.createElement('a')
  
        // Set Attribute pour index html
  
        produit.setAttribute("class", "produit")
        produitImg.setAttribute("class", "produitImg")
        produitDetail.setAttribute("class", "produitDetail")
        produitPic.setAttribute("class", "produitPic")
        nomProduit.setAttribute("class", "nomProduit")
        prixProduit.setAttribute("class", "prixProduit")
        boutonInfo.setAttribute("class", "boutonInfo")
        lienProduit.setAttribute("href", "produit.html?id=" + teddy._id)
  
       // Placement éléments pour index html 
       
        section.appendChild(produit)
        produit.appendChild(produitImg)
        produit.appendChild(produitDetail)
        produitImg.appendChild(produitPic)
        produitDetail.appendChild(nomProduit)
        produitDetail.appendChild(prixProduit)
        produitDetail.appendChild(boutonInfo)
        boutonInfo.appendChild(lienProduit)
  
        // Contenu éléments pour index html 
  
        nomProduit.textContent = teddy.name
        produitPic.src = teddy.imageUrl
        prixProduit.textContent = teddy.price/100 + "€"
        lienProduit.textContent = "+ d'infos"
    }
  }
  
    async function recupererNounourses() {
      await fetch('http://localhost:3000/api/teddies')
      .then((response) => response.json())
      .then((nounourses) => teddies(nounourses))
  }
    recupererNounourses()
  
  </script> 
</html>